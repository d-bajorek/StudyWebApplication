{"version":3,"file":"store.01e8757491bcea7fa039.bundle.js","mappings":"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","sources":["webpack://studywebapplication/./src/store.js"],"sourcesContent":["const app = Vue.createApp({\r\n  data() {\r\n      return {\r\n          topTenShows: [],\r\n          images: [],\r\n          cart: [], // Tablica koszyka, logika z main.js\r\n      };\r\n  },\r\n  created() {\r\n      this.fetchTopTenShows();\r\n      const cartFromStorage = localStorage.getItem(\"cart\");\r\n    if (cartFromStorage) {\r\n      this.cart = JSON.parse(cartFromStorage);\r\n    }\r\n  },\r\n  computed: {\r\n    totalPrice() {\r\n        // Sprawdzenie, czy wszystkie filmy w koszyku posiadają właściwość price\r\n        const hasPrice = this.cart.every(\r\n          (item) => item.hasOwnProperty(\"price\") && !isNaN(item.price)\r\n        );\r\n  \r\n        if (!hasPrice) {\r\n          console.error(\"Some items in the cart do not have a valid price.\");\r\n          return \"N/A\";\r\n        }\r\n  \r\n        // Obliczanie całkowitej ceny na podstawie sumy cen filmów w koszyku\r\n        const total = this.cart.reduce(\r\n          (total, item) => total + parseFloat(item.price),\r\n          0\r\n        );\r\n        return total.toFixed(2);\r\n      },\r\n  },\r\n  methods: {\r\n      fetchTopTenShows() {\r\n          let request = axios.get('https://api.tvmaze.com/shows');\r\n              request.then((response) =>  {\r\n                  const topTenShows = response.data\r\n                      .filter(show => show.rating.average)\r\n                      .sort((a, b) => b.rating.average - a.rating.average)\r\n                      .slice(0, 10);\r\n                  this.topTenShows = topTenShows;\r\n                  // Fetch images for top ten shows\r\n                  this.fetchImagesForTopTenShows(topTenShows);\r\n              })\r\n              .catch(error => {\r\n                  console.error('Error fetching top ten shows:', error);\r\n              });\r\n      },\r\n      fetchImagesForTopTenShows(topTenShows) {\r\n        topTenShows.forEach(show => {\r\n            axios.get(`https://api.tvmaze.com/shows/${show.id}/images`)\r\n                .then(response => {\r\n                    // Filter out non-poster images and add to the images array\r\n                    const posters = response.data.filter(image => image.type === 'poster');\r\n                    this.images.push(...posters);\r\n                })\r\n                .catch(error => {\r\n                    console.error('Error fetching images for show:', show.id, error);\r\n                });\r\n        });\r\n    },\r\n    addToCart(show) {\r\n        // Sprawdzenie, czy dany film już istnieje w koszyku\r\n        const exists = this.cart.some(item => item.id === show.id);\r\n        if (!exists) {\r\n            // Dodanie ceny do obiektu filmu\r\n            const showWithPrice = { ...show, price: 9.99 }; // Dodanie pola price z wartością 9.99\r\n            // Dodanie filmu do koszyka\r\n            this.cart.push(showWithPrice);\r\n            // Zapisanie koszyka w localStorage\r\n            localStorage.setItem(\"cart\", JSON.stringify(this.cart));\r\n        }\r\n    },\r\n      removeFromCart(showId) {\r\n        this.cart = this.cart.filter(item => item.id !== showId);\r\n        localStorage.setItem(\"cart\", JSON.stringify(this.cart));\r\n      },\r\n  }\r\n});\r\n\r\napp.mount('#app');"],"names":["app","Vue","createApp","data","topTenShows","images","cart","created","fetchTopTenShows","cartFromStorage","localStorage","getItem","JSON","parse","computed","totalPrice","hasPrice","every","item","hasOwnProperty","isNaN","price","console","error","total","reduce","parseFloat","toFixed","methods","_this","request","axios","get","then","response","filter","show","rating","average","sort","a","b","slice","fetchImagesForTopTenShows","_this2","forEach","concat","id","_this2$images","posters","image","type","push","apply","_toConsumableArray","addToCart","exists","some","showWithPrice","_objectSpread","setItem","stringify","removeFromCart","showId","mount"],"sourceRoot":""}